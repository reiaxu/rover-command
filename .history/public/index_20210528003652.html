<!DOCTYPE html>
<html lang="en">
 <head>
   <title>Mars Rover Command</title>
   <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
   <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.js"></script>
   <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
 </head>

 <body>
   <div id="root"></div>

   <script type="text/babel">
    const element = <h1>Hello from React</h1>; ReactDOM.render(element,
    document.getElementById("root"));
    const [client, setClient] = useState(null);
    const mqttConnect = (host, mqttOption) => {
      setConnectStatus('Connecting');
      setClient(mqtt.connect(host, mqttOption));
    };
    useEffect(() => {
      if (client) {
        console.log(client)
        client.on('connect', () => {
          setConnectStatus('Connected');
        });
        client.on('error', (err) => {
          console.error('Connection error: ', err);
          client.end();
        });
        client.on('reconnect', () => {
          setConnectStatus('Reconnecting');
        });
        client.on('message', (topic, message) => {
          const payload = { topic, message: message.toString() };
          setPayload(payload);
        });
      }
    }, [client]);
  </script>
 </body>
</html>